namespace App\Repositories;
use App\Models\User;
class UserRepository {
  public function __construct(private \PDO $pdo) {}
  public function all(): array {
    $stmt = $this->pdo->query('SELECT id,name,email FROM users');
    $rows = $stmt->fetchAll(\PDO::FETCH_ASSOC);
    return array_map(fn($r)=> new User((int)$r['id'],$r['name'],$r['email']), $rows);
  }
  public function find(int $id): ?User { /* prepared stmt */ }
  public function add(User $u): int { /* insert + return lastInsertId */ }
}
